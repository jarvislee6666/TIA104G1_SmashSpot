<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
  	<th:block th:fragment="headContent">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" th:href="@{/icon/favicon.ico}">
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.1/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />
    </th:block>
  </head>
  <body class="bg-light">
    	<header th:fragment="header">
		  <nav class="navbar nav-container position-fixed w-100 z-3 top-0">
		    <div class="container position-relative">
		      <a class="navbar-brand" th:href="@{/}">
		        <img th:src="@{/css/client/logo/logo.svg}" alt="Bootstrap" />
		      </a>
		
		      <!-- Mobile Toggle Button -->
		      <button
		        class="navbar-toggler d-lg-none"
		        type="button"
		        aria-label="Toggle navigation"
		      >
		        <span class="bi bi-list" style="font-size: 24px"></span>
		      </button>
		
		      <div class="justify-content-end">
		        <ul class="nav-list">
		          <li class="nav-item">
		            <a th:href="@{/client/listAllProductING}" class="nav-link px-3 py-2 rounded-2"
		            th:classappend="${#httpServletRequest.getRequestURI().contains('/client/listAllProductING')or 
								      #httpServletRequest.getRequestURI().contains('/client/getOneProduct') or 
								      #httpServletRequest.getRequestURI().contains('/client/listProductByClass')or 
								      #httpServletRequest.getRequestURI().contains('/client/favorite/list')
		                              } ? 'active' : ''"
		            >競標專區</a>
		          </li>
		          <li class="nav-item">
		            <a th:href="@{/stadium/listAllStadium}" class="nav-link px-3 py-2 rounded-2"
		             th:classappend="${#httpServletRequest.getRequestURI().contains('/stadium/listAllStadium')or 
								      #httpServletRequest.getRequestURI().contains('/reservation/week')
		                              } ? 'active' : ''">場地預約</a>
		          </li>
		          <li class="nav-item">
		            <a href="#" class="nav-link px-3 py-2 rounded-2">客服中心</a>
		          </li>
		          <li class="nav-item">
		            <a th:href="@{/client/memProductList}" class="nav-link px-3 py-2 rounded-2"
		            th:classappend="${#httpServletRequest.getRequestURI().contains('/client/memProductList') or 
								      #httpServletRequest.getRequestURI().contains('/client/addProduct')or 
								      #httpServletRequest.getRequestURI().contains('/client/memOrdersList') 
		                            }? 'active' : ''"
		            >賣家專區</a>
		          </li>
					<!-- 登入/會員資訊 -->
                        <li class="nav-item" th:if="${session.login == null}">
                            <a th:href="@{/member/login}" class="nav-link px-3 py-2 rounded-2">
                                <i class="bi bi-person"></i>
                                <span>登入</span>
                            </a>
                        </li>
                        <!-- 登入後顯示會員名稱和登出按鈕 -->
                        <li class="nav-item" th:if="${session.login != null}">
                            <a th:href="@{/member/basic-info}" 
                               class="nav-link px-3 py-2 rounded-2"
                               th:classappend="${#httpServletRequest.getRequestURI().contains('/member/basic-info')or 
								     			 #httpServletRequest.getRequestURI().contains('/member/biddingList')or 
								     			 #httpServletRequest.getRequestURI().contains('/member/buyingList')or 
								     			 #httpServletRequest.getRequestURI().contains('/member/appointment-records')
								     			 }? 'active' : ''">
                                <i class="bi bi-person"></i>
                                <span th:text="${session.login.name}"></span>
                            </a>
                        </li>
                        <li class="nav-item" th:if="${session.login != null}">
                            <form th:action="@{/member/logout}" method="post" style="margin: 0; padding: 0;">
                                <button type="submit" 
                                        class="nav-link px-3 py-2 rounded-2 w-100 text-start" 
                                        style="border: none; background: none;">
                                    <i class="bi bi-box-arrow-right"></i>
                                    <span>登出</span>
                                </button>
                            </form>
					</li>
		        </ul>
		      </div>
		    </div>
		  </nav>
		</header>	
  </body>
</html>